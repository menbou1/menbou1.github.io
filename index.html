<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>クイズゲーム</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
   
    <link rel="stylesheet" href="mobile/jquery.mobile-1.4.5.min.css" />

    <style type="text/css">a{text-decoration:none;}</style>
    
    <script src="mobile/jquery-1.12.4.min.js"></script>
    <script src="mobile/jquery.mobile-1.4.5.min.js"></script>
    
	<script>
        
	//問題の設定
	var q = [];
	q[0] =["シンガポールのちょっと変わった法律で、実際にあるものはどれ？","ポテトチップスを食べる事禁止","チューインガムを噛む事禁止","グミを食べる事禁止",2];
        
	q[1] =["カナダのちょっと変わった法律で、実際にあるものはどれ？","一度にレジを通す総量は2kgまで","支払い時の小銭の使いすぎ禁止",
	"売り物を会計前に店内で食べるの禁止",2];
        
	q[2] =["イギリスのちょっと変わった法律で、実際にあるものはどれ？","郵便局員は犬と目を合わせるの禁止","エリザベス女王の切手を二枚以上貼るの禁止","青い便箋で手紙を出すの禁止",1];
    
    q[3] =["アメリカ(ロサンゼルス)のちょっと変わった法律で、実際にあるものはどれ？","街灯の下で路上ライブするの禁止","街灯の下で蛾を捕まえるの禁止","街灯の下で自撮りするの禁止",2];
        
    q[4] =["フランスのちょっと変わった法律で、実際にあるものはどれ？","ブドウ畑でヘビーメタルを流すこと禁止","ブドウ畑で結婚式を挙げること禁止","ブドウ畑でUFOを着陸させること禁止",3]
        
    q[5] =["イタリアのちょっと変わった法律で、実際にあるものはどれ？","犬を一日三回散歩しないとと罰金","犬を一ヶ月に一回検診に連れて行かないと罰金","犬を二匹以上飼うと罰金",1]
        
    q[6] =["ニューヨークのちょっと変わった法律で、実際にあるものはどれ？","ファッションセンスの悪い服の売買禁止","ファッションセンスの悪い女性の入店禁止","ファッションセンスの悪い服を着た男性の外出禁止",3]
        
    q[7] =["中国のちょっと変わった法律で、実際にあるものはどれ？","執行期間中にギネス記録を達成すれば罪が減少","執行期間中に大発明をすれば罪が減少","執行期間中に結婚すれば罪が減少",2]
        
    q[8] =["イギリスのちょっと変わった法律で、実際にあるものはどれ？二問目","国会議事堂の中で死亡した場合有罪","国会議事堂の中で嘔吐した場合有罪","国会議事堂の中でくしゃみした場合有罪",1]
        
    q[9] =["イタリアのちょっと変わった法律で、実際にあるものはどれ？","常にジャケットを着ていることが義務付けられている","常に野外では服装を正すことを義務付けられている","常に笑顔でいることが義務付けられている",3]

	var count = 0;
	var hit = 0;

var init=function(){
count=0;
//    //
hit=0;

document.getElementById('gamePlay').style = "display:block";
document.getElementById('gameEnd').style = "display:none";

question(count);
}

var question =function(num){
	var mondai = document.getElementById('mondai');
	var sentaku = document.getElementById('sentaku');

	while (sentaku.firstChild) {
		sentaku.removeChild(sentaku.firstChild);
	}

	mondai.textContent = q[num][0];	 

	for(i=1;i<=3;i++){
		toi1 = document.createElement('li');
		toi1.innerHTML += '<a href="javascript:answer('+i+')">'+q[num][i]+'</a>';
		sentaku.appendChild(toi1);
	}
}

var answer = function(num) {

	if (num == q[count][4]) {
		hit++;
	}
//回答数
count++;

	if(count == q.length){
		endScene();
	}else{
		question(count);
	}

}

endScene = function(){
document.getElementById('gamePlay').style = "display:none";
document.getElementById('gameEnd').style = "display:block";
    
document.getElementById('score').textContent = "正解率:"+Math.floor(hit/q.length*100)+"%";
document.getElementById('outline').textContent = q.length+"問中、正解は "+hit+"問でした";

detail =document.getElementById('detail');
}

//    if(score1 == 0){
//        document.getElementById('scorecoment').innerHTML ="ブハッ！！海外旅行行ってきたら？";}
//        
//        if(score1 == 50){
//        document.getElementById('scorecoment').innerHTML ="はい、半分の点数！海外の勉強しようぜ";}
//        
//        if(score1 == 90){
//        document.getElementById('scorecoment').innerHTML ="惜しいィィィィィィーーーー";}
//        
//    if(score1 == 100){
//        document.getElementById('scorecoment').innerHTML ="めっちゃ海外詳しいやん！もしかして何度かやった？";}

//これで実行
window.addEventListener('load',init);
</script>
</head>
<body>
<div class="theBridge">

<div id="gamePlay">
	<h1>海外のユニークな法律クイズ</h1>
	<div id="mondai"></div>
	<div id="kaito">
	<ul id="sentaku"></ul>
	</div>
</div>

<div id="gameEnd">

	<h1>結果発表</h1>
	
	<div id="score"></div>
	<div id="scorecoment"></div>
	<div id="outline"></div>
	<div id="detail"></div>
	
	<div><a href="javascript:init();">悔しかった？もう一度ゲームを行う</a></div>
	
    <br>
    
	
	<form action="iankanko@gmail.com" method="post">
<p>作者への苦情・応援メッセージ:<input type="text" name="namae"></p>
<p>
<input type="submit" value="送信する">
<input type="reset" value="入力内容をリセットする">
</p>
</form>

<a href="#" onClick="window.close();">ウィンドウを閉じる</a><br/>
</div>
    </div>
</body>
</html>